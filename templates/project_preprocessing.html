<div class="column col-md-12 col-6">
    {% include 'project_inspection.html' %}

    <div class="accordion m-2">
        <input id="preprocessing-drop" type="radio" name="accordion-preprocessing" hidden="">
        <label class="accordion-header c-hand" for="preprocessing-drop">
            <h4>
                <i class="icon icon-arrow-right mr-1"></i>Drop column
            </h4>
        </label>
        <div class="accordion-body">
            <form action="/drop/column" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="column">Column to drop</label>
                    <select class="form-select" name="column" id="column">
                        {% if ColumnNames %}
                            {% for Column in ColumnNames|sort %}
                                <option value="{{ Column }}">{{ Column }}</option>
                            {% endfor %}
                        {% else %}
                            <option value="" selected="true" disabled="disabled">No columns
                                found...
                            </option>
                        {% endif %}
                    </select>
                    <input type="hidden" name="project" value="{{ Projectname }}">
                </div>
                <button class="btn btn-success btn-lg">
                    <i class="icon icon-delete icon-resize-small"></i> Drop column
                </button>
            </form>
        </div>
    </div>

    <div class="accordion m-2">
        <input id="preprocessing-rename" type="radio" name="accordion-preprocessing" hidden="">
        <label class="accordion-header c-hand" for="preprocessing-rename">
            <h4>
                <i class="icon icon-arrow-right mr-1"></i>Rename column
            </h4>
        </label>
        <div class="accordion-body">
            <form action="/set/column/name" method="post" enctype="multipart/form-data">
                {{ add_form_group(RenameForm.project, hidden=True, value=Projectname) }}
                {{ add_form_group(RenameForm.old_col_name) }}
                {{ add_form_group(RenameForm.new_col_name) }}
                <button class="btn btn-success btn-lg">
                    <i class="icon icon-edit"></i> Rename column
                </button>
            </form>
        </div>
    </div>

    <div class="accordion m-2">
        <input id="preprocessing-replace" type="radio" name="accordion-preprocessing" hidden="">
        <label class="accordion-header c-hand" for="preprocessing-replace">
            <h4>
                <i class="icon icon-arrow-right mr-1"></i>Replace values
            </h4>
        </label>
        <div class="accordion-body">
            <form action="/replace/dataset/values" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="column">Replace values in column</label>
                    <select class="form-select" name="column" id="column">
                        {% if ColumnNames %}
                            {% for Column in ColumnNames|sort %}
                                <option value="{{ Column }}">{{ Column }}</option>
                            {% endfor %}
                        {% else %}
                            <option value="" selected="true" disabled="disabled">No columns
                                found...
                            </option>
                        {% endif %}
                    </select>
                </div>
                <div class="form-group">
                    <label for="old-val">The value to replace</label>
                    <input class="form-input" type="text" name="value_old" id="old-val"
                           placeholder="Value123" required>
                </div>
                <div class="form-group">
                    <label for="new-val">Replace value with</label>
                    <input class="form-input" type="text" name="value_new" id="new-val"
                           placeholder="Newvalue-123" required>
                </div>
                <input type="hidden" name="project" value="{{ Projectname }}" required>
                <button class="btn btn-success btn-lg">
                    <i class="icon icon-edit"></i> Replace values
                </button>
            </form>
        </div>
    </div>

    <div class="accordion m-2">
        <input id="preprocessing-normalisation" type="radio" name="accordion-preprocessing" hidden="">
        <label class="accordion-header c-hand" for="preprocessing-normalisation">
            <h4>
                <i class="icon icon-arrow-right mr-1"></i>Data normalisation
            </h4>
        </label>
        <div class="accordion-body">
            <form action="/preprocess/columns" method="post"
                  enctype="multipart/form-data">
                <div class="form-group">
                    <label class="form-label" for="select-column">Columns to normalize</label>
                    <select class="form-select" name="columns[]" id="select-column" multiple required>
                        {% if ColumnNames %}
                            {% for Column in ColumnNames|sort %}
                                <option value="{{ Column }}">{{ Column }}</option>
                            {% endfor %}
                        {% else %}
                            <option value="" disabled>There are no columns</option>
                        {% endif %}
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" for="normalisation-method">Normalise data with method</label>
                    <select class="form-select" name="normalisation-method" id="normalisation-method" required>
                        {% if Normalizers %}
                            {% for NormType in Normalizers|sort %}
                                <optgroup label="{{ NormType }}">
                                    {% for Normalizer in Normalizers[NormType]|sort %}
                                        <option value="{{ Normalizer }}">{{ Normalizer }}</option>
                                    {% endfor %}
                                </optgroup>
                            {% endfor %}
                        {% endif %}
                    </select>
                </div>
                <input type="hidden" value="{{ Projectname }}" name="project" required>
                <input type="submit" class="btn btn-success" value="Normalise data">
            </form>
        </div>
    </div>

    <div class="accordion m-2">
        <input id="preprocessing-split" type="radio" name="accordion-preprocessing" hidden="">
        <label class="accordion-header c-hand" for="preprocessing-split">
            <h4>
                <i class="icon icon-arrow-right mr-1"></i>Data splitting &amp; output selection
            </h4>
        </label>
        <div class="accordion-body">
            <form action="/set/project/dataset/split" method="post"
                  enctype="multipart/form-data">
                {{ add_form_group(PreprocessingForm.project, hidden=True, value=Projectname) }}
                {{ add_form_group(PreprocessingForm.train_test_split, value=TrainTestSplit) }}
                {{ add_form_group(PreprocessingForm.random_state, value=RandomState) }}
                {{ add_form_group(PreprocessingForm.column_output) }}
                <input type="submit" class="btn btn-success" value="Set split size">
            </form>
        </div>
    </div>
</div>